{% extends "base.html" %}
{% block title %}Profile{% endblock %}
{% block content %}
<h1 align="center">{{user.user_name}}'s Profile</h1>
<p>user info comming later ...</p>
<br/>
<h2 align="center">{{user.user_name}}'s Recipes</h2>

<div class="card-deck recipe_card-deck d-flex justify-content-around">
    {% if user.id == cuser.id %}
    <a id="Recipe" href="/recipe/0" target="_blank" class="recipe_card-link">
        <div class="container card recipe_card recipe_card-new">
            <img class="recipe_card-img" src="/static/img/new-recipe.png" alt="no-image">
            <div class="recipe_card-text">
                <h5 align="center" class="recipe_card-title">New recipe</h5>
            </div>
        </div>
    </a>
    {% endif %}
    {% for recipe in user.recipes %}
    {% if user.id == cuser.id %}
    <a id="Recipe" href="/recipe/{{recipe.id}}" target="_blank" class="recipe_card-link">
        <div class="container card recipe_card">
            {% if recipe.images|length > 0 %}
            <img class="recipe_card-img" src="/img/{{recipe.images[0].id}}" alt="image food">
            {% else %}
            <img class="recipe_card-img" src="/static/img/no-image.jpg" alt="no-image">
            {% endif %}
            <div class="recipe_card-text">
                <h5 align="center" class="recipe_card-title">{{recipe.title}}</h5>
                <p align="center" class="recipe_card-user">For {{recipe.amount}}</p>
            </div>
            <button type="button" class="close recipe_card-delete" onClick="deleteRecipe({{ recipe.id }})">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
    </a>
    {% else %}
    {% if not recipe.privat %}
    <a id="Recipe" href="/recipe/{{recipe.id}}" target="_blank" class="recipe_card-link">
        <div class="container card recipe_card">
            {% if recipe.images|length > 0 %}
            <img class="recipe_card-img" src="/img/{{recipe.images[0].id}}" alt="image food">
            {% else %}
            <img class="recipe_card-img" src="/static/img/no-image.jpg" alt="no-image">
            {% endif %}
            <div class="recipe_card-text">
                <h5 align="center" class="recipe_card-title">{{recipe.title}}</h5>
                <p align="center" class="recipe_card-user">For {{recipe.amount}}</p>
            </div>
        </div>
    </a>
    {% endif %}
    {% endif %}
    {% endfor %}
</div>

<ul class="list-group list-group-flush" id="recipes">
    <li align="center" class="list-group-item">
        <a class="btn btn-primary" id="Profil" type="butten" href="/edit/0">Add new recipe</a>
    </li>
    {% for recipe in user.recipes %}
    <li class="list-group-item">
        {% if user.id == cuser.id %}
        <div class="Recipe_card Recipe_card_user">
            <a id="Recipe" href="/edit/{{recipe.id}}">{{ recipe.title }}</a>
            <button type="button" class="close" onClick="deleteRecipe({{ recipe.id }})">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        {% else %}
        {% if not recipe.privat %}
        <div class="Recipe_card">
            <a id="Recipe" href="/recipe/{{recipe.id}}">{{ recipe.title }}</a>
        </div>
        {% endif %}
        {% endif %}
    </li>
    {% endfor %}
</ul>
{% endblock %}
