{% extends "base.html" %}

{% block title %}Edit{% endblock %}

{% block content %}
{% if recipe.title == none %}
<h1 align="center">New Recipe</h1>
{%else%}
<h1 align="center">Edit Recipe</h1>
{% endif %}
<form action="/add/{{recipe.id}}" enctype="multipart/form-data" id="ingredient" method="POST">
    <div align="center" class="form-group">
        <label align="center">Ingredients:</label>
        <ul class="list-group list-group-flush" id="ingredients">
            {% for ingredient in recipe.ingredients %}
            <li class="list-group-item Ingredient_card">
                {{ ingredient.name }} {{ ingredient.amount }} {{ ingredient.unit }}
                <button type="button" class="close" onClick="remove({{ ingredient.id }})">
                    <span aria-hidden="true">&times;</span>
                </button>
            </li>
            {% endfor %}

            <li class="list-group-item">
                <div class="input-group">

                    <input type="text" class="form-control" name="name" placeholder="ingredient" aria-label="ingredient" form="ingredient" aria-describedby="basic-addon2" required>

                    <div class="input-group-append">
                        <div class="form-group col" ">
                            <input type="number" step="0.01" class="form-control id="number" name="amount" placeholder="amount" form="ingredient" value="" required>
                        </div>
                        <div class="form-group col">
                            <select name="unit" class="form-control" id="exampleFormControlSelect1" form="ingredient" required>
                                <option value="">unit</option>
                                <option value="Liter">l</option>
                                <option value="Milliliter">ml</option>
                                <option value="add more ...">add more ...</option>
                            </select>
                        </div>
                        <div class="form-group col">
                            <button type="submit" class="btn btn-outline-primary">Add</button>
                        </div>
                    </div>
                </div>
            </li>
        </ul>
    </div>
</form>

<ul class="list-group list-group-flush" id="images">
    {% if recipe.images|length > 0 %}
        {% for i in range((recipe.images|length)) %}
        <li class="list-group-item">
            <a href="/img/{{recipe.images[i].id}}" target="_blank">
                {{recipe.images[i].name}}
            <a />
            <button type="button" class="close" onClick="delete({{ recipe.images[i].id }})">
                <span aria-hidden="true">&times;</span>
            </button>
        </li>
        {% endfor %}
    {% endif %}
    <li class="list-group-item">
        <form action="/upload/{{recipe.id}}" enctype="multipart/form-data" method="POST">
            <div align="center">
                <input type="file" name="pic" />
                <input type="submit" value="Upload a picture" />
            </div>
        </form>
    </li>
</ul>

<br />

<form id="recipe" method="POST">
    <label class="form-check-label" for="title">Title</label>
    <textarea id="title" name="title" class="form-control" required></textarea>
    <br />
    <label class="form-check-label" for="Execution">Execution</label>
    <textarea id="execution" name="execution" class="form-control" required></textarea>
    <br />
    <div align="center" class="form-row">
        <div class="form-group col">
            <div align="center">
                <input class="form-check-input" type="checkbox" name="privat" id="privat" value="privat">
                <label class="form-check-label" for="privat">privat</label>
            </div>
        </div>
        <div align="center" class="form-group col">
            <label for="exampleFormControlSelect1">Number of people</label>
            <select class="form-control" id="exampleFormControlSelect2" name="amount" form="recipe" required>
                <option value="">Select</option>
                {% for i in range(100)%}
                <option value="{{i+1}}">{{i+1}}</option>
                {%endfor%}
            </select>
        </div>

        <div class="form-group col">
            <label align="center">This recipe is:</label>
            <ul align="center">
                <li class="form-check form-check-inline">
                    <input class="form-check-input" type="checkbox" name="Vegetarian" id="vegetarian" value="vegetarian">
                    <label class="form-check-label" for="vegetarian">vegetarian</label>
                </li>
                <li class="form-check form-check-inline">
                    <input class="form-check-input" type="checkbox" name="vegan" id="vegan" value="vegan">
                    <label class="form-check-label" for="vegan">vegan</label>
                </li>
            </ul>
        </div>
    </div>

    <div align="center" class="form-group">
        <label align="center">This recipe does NOT contain:</label>
        <ul align="center">
            <li class="form-check form-check-inline">
                <input class="form-check-input" type="checkbox" name="milk" id="milk" value="milk">
                <label class="form-check-label" for="milk">milk</label>
            </li>
            <li class="form-check form-check-inline">
                <input class="form-check-input" type="checkbox" name="eggs" id="eggs" value="eggs">
                <label class="form-check-label" for="eggs">eggs</label>
            </li>
            <li class="form-check form-check-inline">
                <input class="form-check-input" type="checkbox" name="peanuts" id="peanuts" value="peanuts">
                <label class="form-check-label" for="peanuts">peanuts</label>
            <li class="form-check form-check-inline">
                <input class="form-check-input" type="checkbox" name="soya" id="soya" value="soya">
                <label class="form-check-label" for="soya">soya</label>
            </li>
            <li class="form-check form-check-inline">
                <input class="form-check-input" type="checkbox" name="gluten" id="gluten" value="gluten">
                <label class="form-check-label" for="gluten">gluten</label>
            </li>
            <li class="form-check form-check-inline">
                <input class="form-check-input" type="checkbox" name="tree_nuts" id="tree_nuts" value="tree_nuts">
                <label class="form-check-label" for="tree_nuts">tree_nuts</label>
            </li>
            <li class="form-check form-check-inline">
                <input class="form-check-input" type="checkbox" name="fish" id="fish" value="fish">
                <label class="form-check-label" for="fish">fish</label>
            </li>
            <li class="form-check form-check-inline">
                <input class="form-check-input" type="checkbox" name="shellfish" id="shellfish" value="shellfish">
                <label class="form-check-label" for="shellfish">shellfish</label>
            </li>
        </ul>
    </div>
    <br />
    <div align="center">
        <button type="submit" class="btn btn-primary">Save</button>
        {% if recipe.title != none %}
        <a class="btn btn-warning" id="Profil" href="/user/{{cuser.user_name}}">Cancel</a>
        {% endif %}
        <button class="btn btn-danger" type="button" onClick="deleteRecipe({{ recipe.id }})">Delete</button>
    </div>
</form>
<br />


{% endblock %}
